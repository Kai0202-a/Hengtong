{"ast":null,"code":"import'./App.css';import Home from\"./pages/Home\";import Inventory from\"./pages/Inventory\";import Admin from\"./pages/Admin\";import{BrowserRouter as Router,Routes,Route,Navigate}from\"react-router-dom\";import ShippingStats from'./pages/ShippingStats';import{partsData}from'./pages/partsData';import{useState,useEffect}from'react';import Register from'./pages/Register';import{UserProvider,UserContext}from'./UserContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[parts,setParts]=useState(()=>{const saved=localStorage.getItem('parts');return saved?JSON.parse(saved):partsData;});useEffect(()=>{localStorage.setItem(\"parts\",JSON.stringify(parts));},[parts]);const updateParts=newParts=>{setParts(newParts);localStorage.setItem('parts',JSON.stringify(newParts));};useEffect(()=>{// 禁止右鍵\nconst handleContextMenu=e=>e.preventDefault();// 禁止拖曳\nconst handleDragStart=e=>e.preventDefault();document.addEventListener('contextmenu',handleContextMenu);document.addEventListener('dragstart',handleDragStart);return()=>{document.removeEventListener('contextmenu',handleContextMenu);document.removeEventListener('dragstart',handleDragStart);};},[]);return/*#__PURE__*/_jsx(UserProvider,{children:/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(UserContext.Consumer,{children:_ref=>{let{user}=_ref;return/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',top:16,right:24,color:'#333',fontWeight:'bold'},children:user?\"\\u767B\\u5165\\u8005\\uFF1A\".concat(user.company||user.username):'未登入'});}}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/home\",element:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/home\",replace:true})}),/*#__PURE__*/_jsx(Route,{path:\"/inventory\",element:/*#__PURE__*/_jsx(Inventory,{parts:parts,setParts:updateParts})}),/*#__PURE__*/_jsx(Route,{path:\"/admin\",element:/*#__PURE__*/_jsx(Admin,{})}),/*#__PURE__*/_jsx(Route,{path:\"/shipping\",element:/*#__PURE__*/_jsx(ShippingStats,{parts:parts,setParts:updateParts})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(Register,{})})]})]})})});}export default App;// ... existing code ...","map":{"version":3,"names":["Home","Inventory","Admin","BrowserRouter","Router","Routes","Route","Navigate","ShippingStats","partsData","useState","useEffect","Register","UserProvider","UserContext","jsx","_jsx","jsxs","_jsxs","App","parts","setParts","saved","localStorage","getItem","JSON","parse","setItem","stringify","updateParts","newParts","handleContextMenu","e","preventDefault","handleDragStart","document","addEventListener","removeEventListener","children","className","Consumer","_ref","user","style","position","top","right","color","fontWeight","concat","company","username","path","element","to","replace"],"sources":["C:/Users/cow7353202th/Desktop/APP/car-parts-frontend/src/App.js"],"sourcesContent":["import './App.css';\nimport Home from \"./pages/Home\";\nimport Inventory from \"./pages/Inventory\";\nimport Admin from \"./pages/Admin\";\nimport { BrowserRouter as Router, Routes, Route, Navigate } from \"react-router-dom\";\nimport ShippingStats from './pages/ShippingStats';\nimport { partsData } from './pages/partsData';\nimport { useState, useEffect } from 'react';\nimport Register from './pages/Register';\nimport { UserProvider, UserContext } from './UserContext';\n\nfunction App() {\n  const [parts, setParts] = useState(() => {\n    const saved = localStorage.getItem('parts');\n    return saved ? JSON.parse(saved) : partsData;\n  });\n\n  useEffect(() => {\n    localStorage.setItem(\"parts\", JSON.stringify(parts));\n  }, [parts]);\n\n  const updateParts = (newParts) => {\n    setParts(newParts);\n    localStorage.setItem('parts', JSON.stringify(newParts));\n  };\n\n  useEffect(() => {\n    // 禁止右鍵\n    const handleContextMenu = e => e.preventDefault();\n    // 禁止拖曳\n    const handleDragStart = e => e.preventDefault();\n    document.addEventListener('contextmenu', handleContextMenu);\n    document.addEventListener('dragstart', handleDragStart);\n    return () => {\n      document.removeEventListener('contextmenu', handleContextMenu);\n      document.removeEventListener('dragstart', handleDragStart);\n    };\n  }, []);\n\n  return (\n    <UserProvider>\n      <Router>\n        <div className=\"App\">\n          <UserContext.Consumer>\n            {({ user }) => (\n              <div style={{ position: 'absolute', top: 16, right: 24, color: '#333', fontWeight: 'bold' }}>\n                {user ? `登入者：${user.company || user.username}` : '未登入'}\n              </div>\n            )}\n          </UserContext.Consumer>\n          <Routes>\n            <Route path=\"/home\" element={<Home />} />\n            <Route path=\"/\" element={<Navigate to=\"/home\" replace />} />\n            <Route path=\"/inventory\" element={<Inventory parts={parts} setParts={updateParts} />} />\n            <Route path=\"/admin\" element={<Admin />} />\n            <Route path=\"/shipping\" element={<ShippingStats parts={parts} setParts={updateParts} />} />\n            <Route path=\"/register\" element={<Register />} />\n            {/* <Route path=\"/admin-login\" element={<AdminLogin />} /> 這行刪除 */}\n          </Routes>\n        </div>\n      </Router>\n    </UserProvider>\n  );\n}\n\nexport default App;\n// ... existing code ...\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}